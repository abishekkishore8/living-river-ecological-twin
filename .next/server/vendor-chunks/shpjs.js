"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/shpjs";
exports.ids = ["vendor-chunks/shpjs"];
exports.modules = {

/***/ "(ssr)/./node_modules/shpjs/lib/binaryajax.js":
/*!**********************************************!*\
  !*** ./node_modules/shpjs/lib/binaryajax.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ binaryAjax)\n/* harmony export */ });\n/* harmony import */ var _combine_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./combine.js */ \"(ssr)/./node_modules/shpjs/lib/combine.js\");\n\n\nasync function binaryAjax(_url, type) {\n\n  const url = (0,_combine_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_url, type);\n  const isOptionalTxt = type === 'prj' || type === 'cpg';\n  try {\n    const resp = await fetch(url);\n    if (resp.status > 399) {\n      throw new Error(resp.statusText);\n    }\n    if (isOptionalTxt) {\n      return resp.text();\n    }\n    const parsed = await resp.arrayBuffer();\n    return new DataView(parsed)\n  } catch (e) {\n    if (isOptionalTxt || type === 'dbf') {\n      return false;\n    }\n    throw e;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2hwanMvbGliL2JpbmFyeWFqYXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUM7O0FBRXBCOztBQUVmLGNBQWMsdURBQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZpbmctcml2ZXItZWNvbG9naWNhbC10d2luLy4vbm9kZV9tb2R1bGVzL3NocGpzL2xpYi9iaW5hcnlhamF4LmpzPzU5NGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbWJpbmUgZnJvbSAnLi9jb21iaW5lLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gYmluYXJ5QWpheChfdXJsLCB0eXBlKSB7XG5cbiAgY29uc3QgdXJsID0gY29tYmluZShfdXJsLCB0eXBlKTtcbiAgY29uc3QgaXNPcHRpb25hbFR4dCA9IHR5cGUgPT09ICdwcmonIHx8IHR5cGUgPT09ICdjcGcnO1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgIGlmIChyZXNwLnN0YXR1cyA+IDM5OSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgfVxuICAgIGlmIChpc09wdGlvbmFsVHh0KSB7XG4gICAgICByZXR1cm4gcmVzcC50ZXh0KCk7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZCA9IGF3YWl0IHJlc3AuYXJyYXlCdWZmZXIoKTtcbiAgICByZXR1cm4gbmV3IERhdGFWaWV3KHBhcnNlZClcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChpc09wdGlvbmFsVHh0IHx8IHR5cGUgPT09ICdkYmYnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRocm93IGU7XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/shpjs/lib/binaryajax.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/shpjs/lib/combine.js":
/*!*******************************************!*\
  !*** ./node_modules/shpjs/lib/combine.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst URL = globalThis.URL;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((base, type) => {\n  if (!type) {\n    return base;\n  }\n  const url = new URL(base);\n  url.pathname = `${url.pathname}.${type}`;\n  return url.href;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2hwanMvbGliL2NvbWJpbmUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztBQUVBLGlFQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsYUFBYSxHQUFHLEtBQUs7QUFDekM7QUFDQSxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZpbmctcml2ZXItZWNvbG9naWNhbC10d2luLy4vbm9kZV9tb2R1bGVzL3NocGpzL2xpYi9jb21iaW5lLmpzP2EyZTgiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVVJMID0gZ2xvYmFsVGhpcy5VUkw7XG5cbmV4cG9ydCBkZWZhdWx0IChiYXNlLCB0eXBlKSA9PiB7XG4gIGlmICghdHlwZSkge1xuICAgIHJldHVybiBiYXNlO1xuICB9XG4gIGNvbnN0IHVybCA9IG5ldyBVUkwoYmFzZSk7XG4gIHVybC5wYXRobmFtZSA9IGAke3VybC5wYXRobmFtZX0uJHt0eXBlfWA7XG4gIHJldHVybiB1cmwuaHJlZjtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/shpjs/lib/combine.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/shpjs/lib/index.js":
/*!*****************************************!*\
  !*** ./node_modules/shpjs/lib/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   combine: () => (/* binding */ combine),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getShapefile: () => (/* binding */ getShapefile),\n/* harmony export */   parseDbf: () => (/* binding */ _parseDbf),\n/* harmony export */   parseShp: () => (/* binding */ _parseShp),\n/* harmony export */   parseZip: () => (/* binding */ parseZip)\n/* harmony export */ });\n/* harmony import */ var proj4__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! proj4 */ \"(ssr)/./node_modules/proj4/lib/index.js\");\n/* harmony import */ var _unzip_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unzip.js */ \"(ssr)/./node_modules/shpjs/lib/unzip.js\");\n/* harmony import */ var _binaryajax_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./binaryajax.js */ \"(ssr)/./node_modules/shpjs/lib/binaryajax.js\");\n/* harmony import */ var _parseShp_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parseShp.js */ \"(ssr)/./node_modules/shpjs/lib/parseShp.js\");\n/* harmony import */ var parsedbf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! parsedbf */ \"(ssr)/./node_modules/parsedbf/index.js\");\n\n\n\n\n\nconst URL = globalThis.URL;\nconst toUitn8Arr = b => {\n  if (!b) {\n    throw new Error('forgot to pass buffer');\n  }\n  if (isArrayBuffer(b)) {\n    return new Uint8Array(b);\n  }\n  if (isArrayBuffer(b.buffer)) {\n    if (b.BYTES_PER_ELEMENT === 1) {\n      return b;\n    }\n    return new Uint8Array(b.buffer, b.byteOffset, b.byteLength);\n  }\n  throw new Error('invalid buffer like object')\n};\nconst txtDecoder = new TextDecoder();\nconst toString = (possibleString) => {\n  if (!possibleString) {\n    return;\n  }\n  if (typeof possibleString === 'string') {\n    return possibleString;\n  }\n  if (isArrayBuffer(possibleString) || ArrayBuffer.isView(possibleString) || isDataView(possibleString)) {\n    return txtDecoder.decode(possibleString);\n  }\n}\nconst toDataView = b => {\n  if (!b) {\n    throw new Error('forgot to pass buffer');\n  }\n  if (isDataView(b)) {\n    return b;\n  }\n  if (isArrayBuffer(b)) {\n    return new DataView(b);\n  }\n  if (isArrayBuffer(b.buffer)) {\n    return new DataView(b.buffer, b.byteOffset, b.byteLength);\n  }\n  throw new Error('invalid buffer like object')\n};\n\nfunction isArrayBuffer(subject) {\n  return subject instanceof globalThis.ArrayBuffer || Object.prototype.toString.call(subject) === '[object ArrayBuffer]';\n}\nfunction isDataView(subject) {\n  return subject instanceof globalThis.DataView || Object.prototype.toString.call(subject) === '[object DataView]'\n}\n\nconst combine = function ([shp, dbf]) {\n  const out = {};\n  out.type = 'FeatureCollection';\n  out.features = [];\n  let i = 0;\n  const len = shp.length;\n  if (!dbf) {\n    dbf = [];\n  }\n  while (i < len) {\n    out.features.push({\n      type: 'Feature',\n      geometry: shp[i],\n      properties: dbf[i] || {}\n    });\n    i++;\n  }\n  return out;\n};\nconst parseZip = async function (buffer, whiteList) {\n  let key;\n  buffer = toUitn8Arr(buffer);\n  const zip = await (0,_unzip_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(buffer);\n  const names = [];\n  whiteList = whiteList || [];\n  for (key in zip) {\n    if (key.indexOf('__MACOSX') !== -1) {\n      continue;\n    }\n    if (key.slice(-4).toLowerCase() === '.shp') {\n      names.push(key.slice(0, -4));\n      zip[key.slice(0, -3) + key.slice(-3).toLowerCase()] = zip[key];\n    } else if (key.slice(-4).toLowerCase() === '.prj') {\n      zip[key.slice(0, -3) + key.slice(-3).toLowerCase()] = (0,proj4__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(zip[key]);\n    } else if (key.slice(-5).toLowerCase() === '.json' || whiteList.indexOf(key.split('.').pop()) > -1) {\n      names.push(key.slice(0, -3) + key.slice(-3).toLowerCase());\n    } else if (key.slice(-4).toLowerCase() === '.dbf' || key.slice(-4).toLowerCase() === '.cpg') {\n      zip[key.slice(0, -3) + key.slice(-3).toLowerCase()] = zip[key];\n    }\n  }\n  if (!names.length) {\n    throw new Error('no layers founds');\n  }\n  const geojson = names.map(function (name) {\n    let parsed, dbf;\n    const lastDotIdx = name.lastIndexOf('.');\n    if (lastDotIdx > -1 && name.slice(lastDotIdx).indexOf('json') > -1) {\n      parsed = JSON.parse(zip[name]);\n      parsed.fileName = name.slice(0, lastDotIdx);\n    } else if (whiteList.indexOf(name.slice(lastDotIdx + 1)) > -1) {\n      parsed = zip[name];\n      parsed.fileName = name;\n    } else {\n      if (zip[name + '.dbf']) {\n        dbf = (0,parsedbf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(zip[name + '.dbf'], zip[name + '.cpg']);\n      }\n      parsed = combine([(0,_parseShp_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(zip[name + '.shp'], zip[name + '.prj']), dbf]);\n      parsed.fileName = name;\n    }\n    return parsed;\n  });\n  if (geojson.length === 1) {\n    return geojson[0];\n  } else {\n    return geojson;\n  }\n};\nasync function getZip(base, whiteList) {\n  const a = await (0,_binaryajax_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(base);\n  return parseZip(a, whiteList);\n}\nconst handleShp = async (base) => {\n  const args = await Promise.all([\n    (0,_binaryajax_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(base, 'shp'),\n    (0,_binaryajax_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(base, 'prj')\n  ]);\n  let prj = false;\n  try {\n    if (args[1]) {\n      prj = (0,proj4__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(args[1]);\n    }\n  } catch (e) {\n    prj = false;\n  }\n  return (0,_parseShp_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(args[0], prj);\n};\nconst handleDbf = async (base) => {\n  const [dbf, cpg] = await Promise.all([\n    (0,_binaryajax_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(base, 'dbf'),\n    (0,_binaryajax_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(base, 'cpg')\n  ]);\n  if (!dbf) {\n    return;\n  }\n  return (0,parsedbf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(dbf, cpg);\n};\nconst checkSuffix = (base, suffix) => {\n  const url = new URL(base, globalThis?.document?.location);\n  return url.pathname.slice(-4).toLowerCase() === suffix;\n};\nconst fromObject = ({ shp, dbf, cpg, prj }) => {\n  const things = [\n    _parseShp(shp, prj)\n  ]\n  if (dbf) {\n    things.push(_parseDbf(dbf, cpg));\n  }\n  return combine(things);\n}\nconst getShapefile = async function (base, whiteList) {\n  if (typeof base !== 'string') {\n    if (isArrayBuffer(base) || ArrayBuffer.isView(base) || isDataView(base)) {\n      return parseZip(base);\n    }\n    if (base.shp) {\n      return fromObject(base);\n    }\n    throw new TypeError('must be a string, some sort of Buffer, or an object with at least a .shp property')\n  }\n  if (checkSuffix(base, '.zip')) {\n    return getZip(base, whiteList);\n  }\n  if (checkSuffix(base, '.shp')) {\n    base = base.slice(0, -4);\n  }\n  const results = await Promise.all([\n    handleShp(base),\n    handleDbf(base)\n  ]);\n  return combine(results);\n};\nconst _parseShp = function (shp, prj) {\n  shp = toDataView(shp);\n  prj = toString(prj);\n  if (typeof prj === 'string') {\n    try {\n      prj = (0,proj4__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(prj);\n    } catch (e) {\n      prj = false;\n    }\n  }\n  return (0,_parseShp_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(shp, prj);\n};\nconst _parseDbf = function (dbf, cpg) {\n  dbf = toDataView(dbf);\n  cpg = toString(cpg);\n  return (0,parsedbf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(dbf, cpg);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getShapefile);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2hwanMvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXlCO0FBQ007QUFDVTtBQUNKO0FBQ0w7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxvQkFBb0IscURBQUs7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLDREQUE0RCxpREFBSztBQUNqRSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxjQUFjLG9EQUFRO0FBQ3RCO0FBQ0Esd0JBQXdCLHdEQUFRO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDBEQUFVO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSwwREFBVTtBQUNkLElBQUksMERBQVU7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaURBQUs7QUFDakI7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLFNBQVMsd0RBQVE7QUFDakI7QUFDQTtBQUNBO0FBQ0EsSUFBSSwwREFBVTtBQUNkLElBQUksMERBQVU7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsb0RBQVE7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixvQkFBb0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaURBQUs7QUFDakIsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLFNBQVMsd0RBQVE7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG9EQUFRO0FBQ2pCO0FBQ0EsaUVBQWUsWUFBWSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2aW5nLXJpdmVyLWVjb2xvZ2ljYWwtdHdpbi8uL25vZGVfbW9kdWxlcy9zaHBqcy9saWIvaW5kZXguanM/NDBjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcHJvajQgZnJvbSAncHJvajQnXG5pbXBvcnQgdW56aXAgZnJvbSAnLi91bnppcC5qcyc7XG5pbXBvcnQgYmluYXJ5QWpheCBmcm9tICcuL2JpbmFyeWFqYXguanMnO1xuaW1wb3J0IHBhcnNlU2hwIGZyb20gJy4vcGFyc2VTaHAuanMnO1xuaW1wb3J0IHBhcnNlRGJmIGZyb20gJ3BhcnNlZGJmJztcbmNvbnN0IFVSTCA9IGdsb2JhbFRoaXMuVVJMO1xuY29uc3QgdG9VaXRuOEFyciA9IGIgPT4ge1xuICBpZiAoIWIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZvcmdvdCB0byBwYXNzIGJ1ZmZlcicpO1xuICB9XG4gIGlmIChpc0FycmF5QnVmZmVyKGIpKSB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGIpO1xuICB9XG4gIGlmIChpc0FycmF5QnVmZmVyKGIuYnVmZmVyKSkge1xuICAgIGlmIChiLkJZVEVTX1BFUl9FTEVNRU5UID09PSAxKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGIuYnVmZmVyLCBiLmJ5dGVPZmZzZXQsIGIuYnl0ZUxlbmd0aCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGJ1ZmZlciBsaWtlIG9iamVjdCcpXG59O1xuY29uc3QgdHh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuY29uc3QgdG9TdHJpbmcgPSAocG9zc2libGVTdHJpbmcpID0+IHtcbiAgaWYgKCFwb3NzaWJsZVN0cmluZykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZW9mIHBvc3NpYmxlU3RyaW5nID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBwb3NzaWJsZVN0cmluZztcbiAgfVxuICBpZiAoaXNBcnJheUJ1ZmZlcihwb3NzaWJsZVN0cmluZykgfHwgQXJyYXlCdWZmZXIuaXNWaWV3KHBvc3NpYmxlU3RyaW5nKSB8fCBpc0RhdGFWaWV3KHBvc3NpYmxlU3RyaW5nKSkge1xuICAgIHJldHVybiB0eHREZWNvZGVyLmRlY29kZShwb3NzaWJsZVN0cmluZyk7XG4gIH1cbn1cbmNvbnN0IHRvRGF0YVZpZXcgPSBiID0+IHtcbiAgaWYgKCFiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdmb3Jnb3QgdG8gcGFzcyBidWZmZXInKTtcbiAgfVxuICBpZiAoaXNEYXRhVmlldyhiKSkge1xuICAgIHJldHVybiBiO1xuICB9XG4gIGlmIChpc0FycmF5QnVmZmVyKGIpKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRhVmlldyhiKTtcbiAgfVxuICBpZiAoaXNBcnJheUJ1ZmZlcihiLmJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IERhdGFWaWV3KGIuYnVmZmVyLCBiLmJ5dGVPZmZzZXQsIGIuYnl0ZUxlbmd0aCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGJ1ZmZlciBsaWtlIG9iamVjdCcpXG59O1xuXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHN1YmplY3QpIHtcbiAgcmV0dXJuIHN1YmplY3QgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLkFycmF5QnVmZmVyIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzdWJqZWN0KSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcbn1cbmZ1bmN0aW9uIGlzRGF0YVZpZXcoc3ViamVjdCkge1xuICByZXR1cm4gc3ViamVjdCBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuRGF0YVZpZXcgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN1YmplY3QpID09PSAnW29iamVjdCBEYXRhVmlld10nXG59XG5cbmV4cG9ydCBjb25zdCBjb21iaW5lID0gZnVuY3Rpb24gKFtzaHAsIGRiZl0pIHtcbiAgY29uc3Qgb3V0ID0ge307XG4gIG91dC50eXBlID0gJ0ZlYXR1cmVDb2xsZWN0aW9uJztcbiAgb3V0LmZlYXR1cmVzID0gW107XG4gIGxldCBpID0gMDtcbiAgY29uc3QgbGVuID0gc2hwLmxlbmd0aDtcbiAgaWYgKCFkYmYpIHtcbiAgICBkYmYgPSBbXTtcbiAgfVxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIG91dC5mZWF0dXJlcy5wdXNoKHtcbiAgICAgIHR5cGU6ICdGZWF0dXJlJyxcbiAgICAgIGdlb21ldHJ5OiBzaHBbaV0sXG4gICAgICBwcm9wZXJ0aWVzOiBkYmZbaV0gfHwge31cbiAgICB9KTtcbiAgICBpKys7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG5leHBvcnQgY29uc3QgcGFyc2VaaXAgPSBhc3luYyBmdW5jdGlvbiAoYnVmZmVyLCB3aGl0ZUxpc3QpIHtcbiAgbGV0IGtleTtcbiAgYnVmZmVyID0gdG9VaXRuOEFycihidWZmZXIpO1xuICBjb25zdCB6aXAgPSBhd2FpdCB1bnppcChidWZmZXIpO1xuICBjb25zdCBuYW1lcyA9IFtdO1xuICB3aGl0ZUxpc3QgPSB3aGl0ZUxpc3QgfHwgW107XG4gIGZvciAoa2V5IGluIHppcCkge1xuICAgIGlmIChrZXkuaW5kZXhPZignX19NQUNPU1gnKSAhPT0gLTEpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoa2V5LnNsaWNlKC00KS50b0xvd2VyQ2FzZSgpID09PSAnLnNocCcpIHtcbiAgICAgIG5hbWVzLnB1c2goa2V5LnNsaWNlKDAsIC00KSk7XG4gICAgICB6aXBba2V5LnNsaWNlKDAsIC0zKSArIGtleS5zbGljZSgtMykudG9Mb3dlckNhc2UoKV0gPSB6aXBba2V5XTtcbiAgICB9IGVsc2UgaWYgKGtleS5zbGljZSgtNCkudG9Mb3dlckNhc2UoKSA9PT0gJy5wcmonKSB7XG4gICAgICB6aXBba2V5LnNsaWNlKDAsIC0zKSArIGtleS5zbGljZSgtMykudG9Mb3dlckNhc2UoKV0gPSBwcm9qNCh6aXBba2V5XSk7XG4gICAgfSBlbHNlIGlmIChrZXkuc2xpY2UoLTUpLnRvTG93ZXJDYXNlKCkgPT09ICcuanNvbicgfHwgd2hpdGVMaXN0LmluZGV4T2Yoa2V5LnNwbGl0KCcuJykucG9wKCkpID4gLTEpIHtcbiAgICAgIG5hbWVzLnB1c2goa2V5LnNsaWNlKDAsIC0zKSArIGtleS5zbGljZSgtMykudG9Mb3dlckNhc2UoKSk7XG4gICAgfSBlbHNlIGlmIChrZXkuc2xpY2UoLTQpLnRvTG93ZXJDYXNlKCkgPT09ICcuZGJmJyB8fCBrZXkuc2xpY2UoLTQpLnRvTG93ZXJDYXNlKCkgPT09ICcuY3BnJykge1xuICAgICAgemlwW2tleS5zbGljZSgwLCAtMykgKyBrZXkuc2xpY2UoLTMpLnRvTG93ZXJDYXNlKCldID0gemlwW2tleV07XG4gICAgfVxuICB9XG4gIGlmICghbmFtZXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdubyBsYXllcnMgZm91bmRzJyk7XG4gIH1cbiAgY29uc3QgZ2VvanNvbiA9IG5hbWVzLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgIGxldCBwYXJzZWQsIGRiZjtcbiAgICBjb25zdCBsYXN0RG90SWR4ID0gbmFtZS5sYXN0SW5kZXhPZignLicpO1xuICAgIGlmIChsYXN0RG90SWR4ID4gLTEgJiYgbmFtZS5zbGljZShsYXN0RG90SWR4KS5pbmRleE9mKCdqc29uJykgPiAtMSkge1xuICAgICAgcGFyc2VkID0gSlNPTi5wYXJzZSh6aXBbbmFtZV0pO1xuICAgICAgcGFyc2VkLmZpbGVOYW1lID0gbmFtZS5zbGljZSgwLCBsYXN0RG90SWR4KTtcbiAgICB9IGVsc2UgaWYgKHdoaXRlTGlzdC5pbmRleE9mKG5hbWUuc2xpY2UobGFzdERvdElkeCArIDEpKSA+IC0xKSB7XG4gICAgICBwYXJzZWQgPSB6aXBbbmFtZV07XG4gICAgICBwYXJzZWQuZmlsZU5hbWUgPSBuYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoemlwW25hbWUgKyAnLmRiZiddKSB7XG4gICAgICAgIGRiZiA9IHBhcnNlRGJmKHppcFtuYW1lICsgJy5kYmYnXSwgemlwW25hbWUgKyAnLmNwZyddKTtcbiAgICAgIH1cbiAgICAgIHBhcnNlZCA9IGNvbWJpbmUoW3BhcnNlU2hwKHppcFtuYW1lICsgJy5zaHAnXSwgemlwW25hbWUgKyAnLnByaiddKSwgZGJmXSk7XG4gICAgICBwYXJzZWQuZmlsZU5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkO1xuICB9KTtcbiAgaWYgKGdlb2pzb24ubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGdlb2pzb25bMF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdlb2pzb247XG4gIH1cbn07XG5hc3luYyBmdW5jdGlvbiBnZXRaaXAoYmFzZSwgd2hpdGVMaXN0KSB7XG4gIGNvbnN0IGEgPSBhd2FpdCBiaW5hcnlBamF4KGJhc2UpO1xuICByZXR1cm4gcGFyc2VaaXAoYSwgd2hpdGVMaXN0KTtcbn1cbmNvbnN0IGhhbmRsZVNocCA9IGFzeW5jIChiYXNlKSA9PiB7XG4gIGNvbnN0IGFyZ3MgPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgYmluYXJ5QWpheChiYXNlLCAnc2hwJyksXG4gICAgYmluYXJ5QWpheChiYXNlLCAncHJqJylcbiAgXSk7XG4gIGxldCBwcmogPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBpZiAoYXJnc1sxXSkge1xuICAgICAgcHJqID0gcHJvajQoYXJnc1sxXSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcHJqID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHBhcnNlU2hwKGFyZ3NbMF0sIHByaik7XG59O1xuY29uc3QgaGFuZGxlRGJmID0gYXN5bmMgKGJhc2UpID0+IHtcbiAgY29uc3QgW2RiZiwgY3BnXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBiaW5hcnlBamF4KGJhc2UsICdkYmYnKSxcbiAgICBiaW5hcnlBamF4KGJhc2UsICdjcGcnKVxuICBdKTtcbiAgaWYgKCFkYmYpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIHBhcnNlRGJmKGRiZiwgY3BnKTtcbn07XG5jb25zdCBjaGVja1N1ZmZpeCA9IChiYXNlLCBzdWZmaXgpID0+IHtcbiAgY29uc3QgdXJsID0gbmV3IFVSTChiYXNlLCBnbG9iYWxUaGlzPy5kb2N1bWVudD8ubG9jYXRpb24pO1xuICByZXR1cm4gdXJsLnBhdGhuYW1lLnNsaWNlKC00KS50b0xvd2VyQ2FzZSgpID09PSBzdWZmaXg7XG59O1xuY29uc3QgZnJvbU9iamVjdCA9ICh7IHNocCwgZGJmLCBjcGcsIHByaiB9KSA9PiB7XG4gIGNvbnN0IHRoaW5ncyA9IFtcbiAgICBfcGFyc2VTaHAoc2hwLCBwcmopXG4gIF1cbiAgaWYgKGRiZikge1xuICAgIHRoaW5ncy5wdXNoKF9wYXJzZURiZihkYmYsIGNwZykpO1xuICB9XG4gIHJldHVybiBjb21iaW5lKHRoaW5ncyk7XG59XG5leHBvcnQgY29uc3QgZ2V0U2hhcGVmaWxlID0gYXN5bmMgZnVuY3Rpb24gKGJhc2UsIHdoaXRlTGlzdCkge1xuICBpZiAodHlwZW9mIGJhc2UgIT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKGlzQXJyYXlCdWZmZXIoYmFzZSkgfHwgQXJyYXlCdWZmZXIuaXNWaWV3KGJhc2UpIHx8IGlzRGF0YVZpZXcoYmFzZSkpIHtcbiAgICAgIHJldHVybiBwYXJzZVppcChiYXNlKTtcbiAgICB9XG4gICAgaWYgKGJhc2Uuc2hwKSB7XG4gICAgICByZXR1cm4gZnJvbU9iamVjdChiYXNlKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbXVzdCBiZSBhIHN0cmluZywgc29tZSBzb3J0IG9mIEJ1ZmZlciwgb3IgYW4gb2JqZWN0IHdpdGggYXQgbGVhc3QgYSAuc2hwIHByb3BlcnR5JylcbiAgfVxuICBpZiAoY2hlY2tTdWZmaXgoYmFzZSwgJy56aXAnKSkge1xuICAgIHJldHVybiBnZXRaaXAoYmFzZSwgd2hpdGVMaXN0KTtcbiAgfVxuICBpZiAoY2hlY2tTdWZmaXgoYmFzZSwgJy5zaHAnKSkge1xuICAgIGJhc2UgPSBiYXNlLnNsaWNlKDAsIC00KTtcbiAgfVxuICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIGhhbmRsZVNocChiYXNlKSxcbiAgICBoYW5kbGVEYmYoYmFzZSlcbiAgXSk7XG4gIHJldHVybiBjb21iaW5lKHJlc3VsdHMpO1xufTtcbmNvbnN0IF9wYXJzZVNocCA9IGZ1bmN0aW9uIChzaHAsIHByaikge1xuICBzaHAgPSB0b0RhdGFWaWV3KHNocCk7XG4gIHByaiA9IHRvU3RyaW5nKHByaik7XG4gIGlmICh0eXBlb2YgcHJqID09PSAnc3RyaW5nJykge1xuICAgIHRyeSB7XG4gICAgICBwcmogPSBwcm9qNChwcmopO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHByaiA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGFyc2VTaHAoc2hwLCBwcmopO1xufTtcbmNvbnN0IF9wYXJzZURiZiA9IGZ1bmN0aW9uIChkYmYsIGNwZykge1xuICBkYmYgPSB0b0RhdGFWaWV3KGRiZik7XG4gIGNwZyA9IHRvU3RyaW5nKGNwZyk7XG4gIHJldHVybiBwYXJzZURiZihkYmYsIGNwZyk7XG59O1xuZXhwb3J0IGRlZmF1bHQgZ2V0U2hhcGVmaWxlO1xuZXhwb3J0IHtcbiAgX3BhcnNlRGJmIGFzIHBhcnNlRGJmLFxuICBfcGFyc2VTaHAgYXMgcGFyc2VTaHAsXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/shpjs/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/shpjs/lib/parseShp.js":
/*!********************************************!*\
  !*** ./node_modules/shpjs/lib/parseShp.js ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ParseShp: () => (/* binding */ ParseShp),\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\n\nfunction isClockWise(array) {\n  let sum = 0;\n  let i = 1;\n  const len = array.length;\n  let prev, cur;\n  const bbox = [array[0][0], array[0][1], array[0][0], array[0][1]];\n  while (i < len) {\n    prev = cur || array[0];\n    cur = array[i];\n    sum += ((cur[0] - prev[0]) * (cur[1] + prev[1]));\n    i++;\n    if (cur[0] < bbox[0]) {\n      bbox[0] = cur[0];\n    }\n    if (cur[1] < bbox[1]) {\n      bbox[1] = cur[1];\n    }\n    if (cur[0] > bbox[2]) {\n      bbox[2] = cur[0];\n    }\n    if (cur[1] > bbox[3]) {\n      bbox[3] = cur[1];\n    }\n  }\n  return {\n    ring: array,\n    clockWise: sum > 0,\n    bbox,\n    children: []\n  }\n\n}\n\nfunction contains(outer, inner) {\n  if (outer.bbox[0] > inner.bbox[0]) {\n    return false;\n  }\n  if (outer.bbox[1] > inner.bbox[1]) {\n    return false;\n  }\n  if (outer.bbox[2] < inner.bbox[2]) {\n    return false;\n  }\n  if (outer.bbox[3] < inner.bbox[3]) {\n    return false;\n  }\n  return true;\n}\n\n\nfunction handleRings(rings, reversed = false) {\n  const outers = [];\n  const inners = [];\n  for (const ring of rings) {\n    const proccessed = isClockWise(ring);\n    if (proccessed.clockWise !== reversed) {\n      outers.push(proccessed)\n    } else {\n      inners.push(proccessed)\n    }\n  }\n  const orphens = [];\n  for (const inner of inners) {\n    let candidate;\n    for (const outer of outers) {\n      if (contains(outer, inner)) {\n        if (!candidate) {\n          candidate = outer;\n        } else {\n          if (contains(candidate, outer)) {\n            candidate = outer;\n          }\n        }\n\n      }\n    }\n    if (candidate) {\n      candidate.children.push(inner.ring);\n    } else {\n      orphens.push(inner);\n    }\n  }\n  if (reversed) {\n    return {\n      outers, orphens\n    }\n  }\n  if (orphens.length && !reversed) {\n    const otherPosibility = handleRings(rings, true);\n    if (otherPosibility.orphens.length === 0) {\n      const out = [];\n      for (const outer of otherPosibility.outers) {\n        out.push([outer.ring.toReversed()].concat(outer.children.map(item => item.toReversed())));\n      }\n      return out;\n    }\n  }\n  const out = [];\n  for (const outer of outers) {\n    out.push([outer.ring].concat(outer.children));\n  }\n  return out;\n}\nParseShp.prototype.parsePoint = function (data) {\n  return {\n    type: 'Point',\n    coordinates: this.parseCoord(data, 0)\n  };\n};\nParseShp.prototype.parseZPoint = function (data) {\n  const pointXY = this.parsePoint(data);\n  pointXY.coordinates.push(data.getFloat64(16, true));\n  return pointXY;\n};\nParseShp.prototype.parsePointArray = function (data, offset, num) {\n  const out = [];\n  let done = 0;\n  while (done < num) {\n    out.push(this.parseCoord(data, offset));\n    offset += 16;\n    done++;\n  }\n  return out;\n};\nParseShp.prototype.parseZPointArray = function (data, zOffset, num, coordinates) {\n  let i = 0;\n  while (i < num) {\n    coordinates[i].push(data.getFloat64(zOffset, true));\n    i++;\n    zOffset += 8;\n  }\n  return coordinates;\n};\nParseShp.prototype.parseArrayGroup = function (data, offset, partOffset, num, tot) {\n  const out = [];\n  let done = 0;\n  let curNum; let nextNum = 0;\n  let pointNumber;\n  while (done < num) {\n    done++;\n    partOffset += 4;\n    curNum = nextNum;\n    if (done === num) {\n      nextNum = tot;\n    } else {\n      nextNum = data.getInt32(partOffset, true);\n    }\n    pointNumber = nextNum - curNum;\n    if (!pointNumber) {\n      continue;\n    }\n    out.push(this.parsePointArray(data, offset, pointNumber));\n    offset += (pointNumber << 4);\n  }\n  return out;\n};\nParseShp.prototype.parseZArrayGroup = function (data, zOffset, num, coordinates) {\n  let i = 0;\n  while (i < num) {\n    coordinates[i] = this.parseZPointArray(data, zOffset, coordinates[i].length, coordinates[i]);\n    zOffset += (coordinates[i].length << 3);\n    i++;\n  }\n  return coordinates;\n};\nParseShp.prototype.parseMultiPoint = function (data) {\n  const out = {};\n  const num = data.getInt32(32, true);\n  if (!num) {\n    return null;\n  }\n  const mins = this.parseCoord(data, 0);\n  const maxs = this.parseCoord(data, 16);\n  out.bbox = [\n    mins[0],\n    mins[1],\n    maxs[0],\n    maxs[1]\n  ];\n  const offset = 36;\n  if (num === 1) {\n    out.type = 'Point';\n    out.coordinates = this.parseCoord(data, offset);\n  } else {\n    out.type = 'MultiPoint';\n    out.coordinates = this.parsePointArray(data, offset, num);\n  }\n  return out;\n};\nParseShp.prototype.parseZMultiPoint = function (data) {\n  const geoJson = this.parseMultiPoint(data);\n  if (!geoJson) {\n    return null;\n  }\n  let num;\n  if (geoJson.type === 'Point') {\n    geoJson.coordinates.push(data.getFloat64(72, true));\n    return geoJson;\n  } else {\n    num = geoJson.coordinates.length;\n  }\n  const zOffset = 52 + (num << 4);\n  geoJson.coordinates = this.parseZPointArray(data, zOffset, num, geoJson.coordinates);\n  return geoJson;\n};\nParseShp.prototype.parsePolyline = function (data) {\n  const out = {};\n  const numParts = data.getInt32(32, true);\n  if (!numParts) {\n    return null;\n  }\n  const mins = this.parseCoord(data, 0);\n  const maxs = this.parseCoord(data, 16);\n  out.bbox = [\n    mins[0],\n    mins[1],\n    maxs[0],\n    maxs[1]\n  ];\n  const num = data.getInt32(36, true);\n  let offset, partOffset;\n  if (numParts === 1) {\n    out.type = 'LineString';\n    offset = 44;\n    out.coordinates = this.parsePointArray(data, offset, num);\n  } else {\n    out.type = 'MultiLineString';\n    offset = 40 + (numParts << 2);\n    partOffset = 40;\n    out.coordinates = this.parseArrayGroup(data, offset, partOffset, numParts, num);\n  }\n  return out;\n};\nParseShp.prototype.parseZPolyline = function (data) {\n  const geoJson = this.parsePolyline(data);\n  if (!geoJson) {\n    return null;\n  }\n  const num = geoJson.coordinates.length;\n  let zOffset;\n  if (geoJson.type === 'LineString') {\n    zOffset = 60 + (num << 4);\n    geoJson.coordinates = this.parseZPointArray(data, zOffset, num, geoJson.coordinates);\n    return geoJson;\n  } else {\n    const totalPoints = geoJson.coordinates.reduce(function (a, v) {\n      return a + v.length;\n    }, 0);\n    zOffset = 56 + (totalPoints << 4) + (num << 2);\n    geoJson.coordinates = this.parseZArrayGroup(data, zOffset, num, geoJson.coordinates);\n    return geoJson;\n  }\n};\nParseShp.prototype.polyFuncs = function (out) {\n  if (!out) {\n    return out;\n  }\n  if (out.type === 'LineString') {\n    out.type = 'Polygon';\n    out.coordinates = [out.coordinates];\n    return out;\n  } else {\n    out.coordinates = handleRings(out.coordinates)\n    if (out.coordinates.length === 1) {\n      out.type = 'Polygon';\n      out.coordinates = out.coordinates[0];\n      return out;\n    } else {\n      out.type = 'MultiPolygon';\n      return out;\n    }\n  }\n};\nParseShp.prototype.parsePolygon = function (data) {\n  return this.polyFuncs(this.parsePolyline(data));\n};\nParseShp.prototype.parseZPolygon = function (data) {\n  return this.polyFuncs(this.parseZPolyline(data));\n};\nconst shpFuncObj = {\n  1: 'parsePoint',\n  3: 'parsePolyline',\n  5: 'parsePolygon',\n  8: 'parseMultiPoint',\n  11: 'parseZPoint',\n  13: 'parseZPolyline',\n  15: 'parseZPolygon',\n  18: 'parseZMultiPoint'\n};\n\nfunction makeParseCoord(trans) {\n  if (trans) {\n    return function (data, offset) {\n      const args = [data.getFloat64(offset, true), data.getFloat64(offset + 8, true)];\n      return trans.inverse(args);\n    };\n  } else {\n    return function (data, offset) {\n      return [data.getFloat64(offset, true), data.getFloat64(offset + 8, true)];\n    };\n  }\n}\n\nfunction ParseShp(buffer, trans) {\n  if (!(this instanceof ParseShp)) {\n    return new ParseShp(buffer, trans);\n  }\n  this.buffer = buffer;\n  this.headers = this.parseHeader();\n  this.shpFuncs(trans);\n  this.rows = this.getRows();\n}\nParseShp.prototype.shpFuncs = function (tran) {\n  let num = this.headers.shpCode;\n  if (num > 20) {\n    num -= 20;\n  }\n  if (!(num in shpFuncObj)) {\n    throw new Error(`I don't know shp type \"${num}\"`);\n  }\n  this.parseFunc = this[shpFuncObj[num]];\n  this.parseCoord = makeParseCoord(tran);\n};\nParseShp.prototype.getShpCode = function () {\n  return this.parseHeader().shpCode;\n};\nParseShp.prototype.parseHeader = function () {\n  const view = this.buffer;\n  return {\n    length: view.getInt32(6 << 2) << 1,\n    version: view.getInt32(7 << 2, true),\n    shpCode: view.getInt32(8 << 2, true),\n    bbox: [\n      view.getFloat64(9 << 2, true),\n      view.getFloat64(11 << 2, true),\n      view.getFloat64(13 << 2, true),\n      view.getFloat64(15 << 2, true)\n    ]\n  };\n};\nParseShp.prototype.getRows = function () {\n  let offset = 100;\n  const len = this.buffer.byteLength - 8;\n  const out = [];\n  let current;\n  while (offset <= len) {\n    current = this.getRow(offset);\n    if (!current) {\n      break;\n    }\n    offset += 8;\n    offset += current.len;\n    if (current.type) {\n      out.push(this.parseFunc(current.data));\n    } else {\n      out.push(null);\n    }\n  }\n  return out;\n};\nParseShp.prototype.getRow = function (offset) {\n  const id = this.buffer.getInt32(offset);\n  const len = this.buffer.getInt32(offset + 4) << 1;\n  if (len === 0) {\n    return {\n      id: id,\n      len: len,\n      type: 0\n    };\n  }\n\n  if (offset + len + 8 > this.buffer.byteLength) {\n    return;\n  }\n  return {\n    id: id,\n    len: len,\n    data: new DataView(this.buffer.buffer, this.buffer.byteOffset + offset + 12, len - 4),\n    type: this.buffer.getInt32(offset + 8, true)\n  };\n};\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(buffer, trans) {\n  return new ParseShp(buffer, trans).rows;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2hwanMvbGliL3BhcnNlU2hwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLElBQUk7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBZSxvQ0FBVTtBQUN6QjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2aW5nLXJpdmVyLWVjb2xvZ2ljYWwtdHdpbi8uL25vZGVfbW9kdWxlcy9zaHBqcy9saWIvcGFyc2VTaHAuanM/NzY5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuZnVuY3Rpb24gaXNDbG9ja1dpc2UoYXJyYXkpIHtcbiAgbGV0IHN1bSA9IDA7XG4gIGxldCBpID0gMTtcbiAgY29uc3QgbGVuID0gYXJyYXkubGVuZ3RoO1xuICBsZXQgcHJldiwgY3VyO1xuICBjb25zdCBiYm94ID0gW2FycmF5WzBdWzBdLCBhcnJheVswXVsxXSwgYXJyYXlbMF1bMF0sIGFycmF5WzBdWzFdXTtcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICBwcmV2ID0gY3VyIHx8IGFycmF5WzBdO1xuICAgIGN1ciA9IGFycmF5W2ldO1xuICAgIHN1bSArPSAoKGN1clswXSAtIHByZXZbMF0pICogKGN1clsxXSArIHByZXZbMV0pKTtcbiAgICBpKys7XG4gICAgaWYgKGN1clswXSA8IGJib3hbMF0pIHtcbiAgICAgIGJib3hbMF0gPSBjdXJbMF07XG4gICAgfVxuICAgIGlmIChjdXJbMV0gPCBiYm94WzFdKSB7XG4gICAgICBiYm94WzFdID0gY3VyWzFdO1xuICAgIH1cbiAgICBpZiAoY3VyWzBdID4gYmJveFsyXSkge1xuICAgICAgYmJveFsyXSA9IGN1clswXTtcbiAgICB9XG4gICAgaWYgKGN1clsxXSA+IGJib3hbM10pIHtcbiAgICAgIGJib3hbM10gPSBjdXJbMV07XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgcmluZzogYXJyYXksXG4gICAgY2xvY2tXaXNlOiBzdW0gPiAwLFxuICAgIGJib3gsXG4gICAgY2hpbGRyZW46IFtdXG4gIH1cblxufVxuXG5mdW5jdGlvbiBjb250YWlucyhvdXRlciwgaW5uZXIpIHtcbiAgaWYgKG91dGVyLmJib3hbMF0gPiBpbm5lci5iYm94WzBdKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChvdXRlci5iYm94WzFdID4gaW5uZXIuYmJveFsxXSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAob3V0ZXIuYmJveFsyXSA8IGlubmVyLmJib3hbMl0pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKG91dGVyLmJib3hbM10gPCBpbm5lci5iYm94WzNdKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5cbmZ1bmN0aW9uIGhhbmRsZVJpbmdzKHJpbmdzLCByZXZlcnNlZCA9IGZhbHNlKSB7XG4gIGNvbnN0IG91dGVycyA9IFtdO1xuICBjb25zdCBpbm5lcnMgPSBbXTtcbiAgZm9yIChjb25zdCByaW5nIG9mIHJpbmdzKSB7XG4gICAgY29uc3QgcHJvY2Nlc3NlZCA9IGlzQ2xvY2tXaXNlKHJpbmcpO1xuICAgIGlmIChwcm9jY2Vzc2VkLmNsb2NrV2lzZSAhPT0gcmV2ZXJzZWQpIHtcbiAgICAgIG91dGVycy5wdXNoKHByb2NjZXNzZWQpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlubmVycy5wdXNoKHByb2NjZXNzZWQpXG4gICAgfVxuICB9XG4gIGNvbnN0IG9ycGhlbnMgPSBbXTtcbiAgZm9yIChjb25zdCBpbm5lciBvZiBpbm5lcnMpIHtcbiAgICBsZXQgY2FuZGlkYXRlO1xuICAgIGZvciAoY29uc3Qgb3V0ZXIgb2Ygb3V0ZXJzKSB7XG4gICAgICBpZiAoY29udGFpbnMob3V0ZXIsIGlubmVyKSkge1xuICAgICAgICBpZiAoIWNhbmRpZGF0ZSkge1xuICAgICAgICAgIGNhbmRpZGF0ZSA9IG91dGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChjb250YWlucyhjYW5kaWRhdGUsIG91dGVyKSkge1xuICAgICAgICAgICAgY2FuZGlkYXRlID0gb3V0ZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNhbmRpZGF0ZSkge1xuICAgICAgY2FuZGlkYXRlLmNoaWxkcmVuLnB1c2goaW5uZXIucmluZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ycGhlbnMucHVzaChpbm5lcik7XG4gICAgfVxuICB9XG4gIGlmIChyZXZlcnNlZCkge1xuICAgIHJldHVybiB7XG4gICAgICBvdXRlcnMsIG9ycGhlbnNcbiAgICB9XG4gIH1cbiAgaWYgKG9ycGhlbnMubGVuZ3RoICYmICFyZXZlcnNlZCkge1xuICAgIGNvbnN0IG90aGVyUG9zaWJpbGl0eSA9IGhhbmRsZVJpbmdzKHJpbmdzLCB0cnVlKTtcbiAgICBpZiAob3RoZXJQb3NpYmlsaXR5Lm9ycGhlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBvdXQgPSBbXTtcbiAgICAgIGZvciAoY29uc3Qgb3V0ZXIgb2Ygb3RoZXJQb3NpYmlsaXR5Lm91dGVycykge1xuICAgICAgICBvdXQucHVzaChbb3V0ZXIucmluZy50b1JldmVyc2VkKCldLmNvbmNhdChvdXRlci5jaGlsZHJlbi5tYXAoaXRlbSA9PiBpdGVtLnRvUmV2ZXJzZWQoKSkpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICB9XG4gIGNvbnN0IG91dCA9IFtdO1xuICBmb3IgKGNvbnN0IG91dGVyIG9mIG91dGVycykge1xuICAgIG91dC5wdXNoKFtvdXRlci5yaW5nXS5jb25jYXQob3V0ZXIuY2hpbGRyZW4pKTtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuUGFyc2VTaHAucHJvdG90eXBlLnBhcnNlUG9pbnQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdQb2ludCcsXG4gICAgY29vcmRpbmF0ZXM6IHRoaXMucGFyc2VDb29yZChkYXRhLCAwKVxuICB9O1xufTtcblBhcnNlU2hwLnByb3RvdHlwZS5wYXJzZVpQb2ludCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIGNvbnN0IHBvaW50WFkgPSB0aGlzLnBhcnNlUG9pbnQoZGF0YSk7XG4gIHBvaW50WFkuY29vcmRpbmF0ZXMucHVzaChkYXRhLmdldEZsb2F0NjQoMTYsIHRydWUpKTtcbiAgcmV0dXJuIHBvaW50WFk7XG59O1xuUGFyc2VTaHAucHJvdG90eXBlLnBhcnNlUG9pbnRBcnJheSA9IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQsIG51bSkge1xuICBjb25zdCBvdXQgPSBbXTtcbiAgbGV0IGRvbmUgPSAwO1xuICB3aGlsZSAoZG9uZSA8IG51bSkge1xuICAgIG91dC5wdXNoKHRoaXMucGFyc2VDb29yZChkYXRhLCBvZmZzZXQpKTtcbiAgICBvZmZzZXQgKz0gMTY7XG4gICAgZG9uZSsrO1xuICB9XG4gIHJldHVybiBvdXQ7XG59O1xuUGFyc2VTaHAucHJvdG90eXBlLnBhcnNlWlBvaW50QXJyYXkgPSBmdW5jdGlvbiAoZGF0YSwgek9mZnNldCwgbnVtLCBjb29yZGluYXRlcykge1xuICBsZXQgaSA9IDA7XG4gIHdoaWxlIChpIDwgbnVtKSB7XG4gICAgY29vcmRpbmF0ZXNbaV0ucHVzaChkYXRhLmdldEZsb2F0NjQoek9mZnNldCwgdHJ1ZSkpO1xuICAgIGkrKztcbiAgICB6T2Zmc2V0ICs9IDg7XG4gIH1cbiAgcmV0dXJuIGNvb3JkaW5hdGVzO1xufTtcblBhcnNlU2hwLnByb3RvdHlwZS5wYXJzZUFycmF5R3JvdXAgPSBmdW5jdGlvbiAoZGF0YSwgb2Zmc2V0LCBwYXJ0T2Zmc2V0LCBudW0sIHRvdCkge1xuICBjb25zdCBvdXQgPSBbXTtcbiAgbGV0IGRvbmUgPSAwO1xuICBsZXQgY3VyTnVtOyBsZXQgbmV4dE51bSA9IDA7XG4gIGxldCBwb2ludE51bWJlcjtcbiAgd2hpbGUgKGRvbmUgPCBudW0pIHtcbiAgICBkb25lKys7XG4gICAgcGFydE9mZnNldCArPSA0O1xuICAgIGN1ck51bSA9IG5leHROdW07XG4gICAgaWYgKGRvbmUgPT09IG51bSkge1xuICAgICAgbmV4dE51bSA9IHRvdDtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dE51bSA9IGRhdGEuZ2V0SW50MzIocGFydE9mZnNldCwgdHJ1ZSk7XG4gICAgfVxuICAgIHBvaW50TnVtYmVyID0gbmV4dE51bSAtIGN1ck51bTtcbiAgICBpZiAoIXBvaW50TnVtYmVyKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgb3V0LnB1c2godGhpcy5wYXJzZVBvaW50QXJyYXkoZGF0YSwgb2Zmc2V0LCBwb2ludE51bWJlcikpO1xuICAgIG9mZnNldCArPSAocG9pbnROdW1iZXIgPDwgNCk7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG5QYXJzZVNocC5wcm90b3R5cGUucGFyc2VaQXJyYXlHcm91cCA9IGZ1bmN0aW9uIChkYXRhLCB6T2Zmc2V0LCBudW0sIGNvb3JkaW5hdGVzKSB7XG4gIGxldCBpID0gMDtcbiAgd2hpbGUgKGkgPCBudW0pIHtcbiAgICBjb29yZGluYXRlc1tpXSA9IHRoaXMucGFyc2VaUG9pbnRBcnJheShkYXRhLCB6T2Zmc2V0LCBjb29yZGluYXRlc1tpXS5sZW5ndGgsIGNvb3JkaW5hdGVzW2ldKTtcbiAgICB6T2Zmc2V0ICs9IChjb29yZGluYXRlc1tpXS5sZW5ndGggPDwgMyk7XG4gICAgaSsrO1xuICB9XG4gIHJldHVybiBjb29yZGluYXRlcztcbn07XG5QYXJzZVNocC5wcm90b3R5cGUucGFyc2VNdWx0aVBvaW50ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgY29uc3Qgb3V0ID0ge307XG4gIGNvbnN0IG51bSA9IGRhdGEuZ2V0SW50MzIoMzIsIHRydWUpO1xuICBpZiAoIW51bSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IG1pbnMgPSB0aGlzLnBhcnNlQ29vcmQoZGF0YSwgMCk7XG4gIGNvbnN0IG1heHMgPSB0aGlzLnBhcnNlQ29vcmQoZGF0YSwgMTYpO1xuICBvdXQuYmJveCA9IFtcbiAgICBtaW5zWzBdLFxuICAgIG1pbnNbMV0sXG4gICAgbWF4c1swXSxcbiAgICBtYXhzWzFdXG4gIF07XG4gIGNvbnN0IG9mZnNldCA9IDM2O1xuICBpZiAobnVtID09PSAxKSB7XG4gICAgb3V0LnR5cGUgPSAnUG9pbnQnO1xuICAgIG91dC5jb29yZGluYXRlcyA9IHRoaXMucGFyc2VDb29yZChkYXRhLCBvZmZzZXQpO1xuICB9IGVsc2Uge1xuICAgIG91dC50eXBlID0gJ011bHRpUG9pbnQnO1xuICAgIG91dC5jb29yZGluYXRlcyA9IHRoaXMucGFyc2VQb2ludEFycmF5KGRhdGEsIG9mZnNldCwgbnVtKTtcbiAgfVxuICByZXR1cm4gb3V0O1xufTtcblBhcnNlU2hwLnByb3RvdHlwZS5wYXJzZVpNdWx0aVBvaW50ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgY29uc3QgZ2VvSnNvbiA9IHRoaXMucGFyc2VNdWx0aVBvaW50KGRhdGEpO1xuICBpZiAoIWdlb0pzb24pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgbnVtO1xuICBpZiAoZ2VvSnNvbi50eXBlID09PSAnUG9pbnQnKSB7XG4gICAgZ2VvSnNvbi5jb29yZGluYXRlcy5wdXNoKGRhdGEuZ2V0RmxvYXQ2NCg3MiwgdHJ1ZSkpO1xuICAgIHJldHVybiBnZW9Kc29uO1xuICB9IGVsc2Uge1xuICAgIG51bSA9IGdlb0pzb24uY29vcmRpbmF0ZXMubGVuZ3RoO1xuICB9XG4gIGNvbnN0IHpPZmZzZXQgPSA1MiArIChudW0gPDwgNCk7XG4gIGdlb0pzb24uY29vcmRpbmF0ZXMgPSB0aGlzLnBhcnNlWlBvaW50QXJyYXkoZGF0YSwgek9mZnNldCwgbnVtLCBnZW9Kc29uLmNvb3JkaW5hdGVzKTtcbiAgcmV0dXJuIGdlb0pzb247XG59O1xuUGFyc2VTaHAucHJvdG90eXBlLnBhcnNlUG9seWxpbmUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBjb25zdCBvdXQgPSB7fTtcbiAgY29uc3QgbnVtUGFydHMgPSBkYXRhLmdldEludDMyKDMyLCB0cnVlKTtcbiAgaWYgKCFudW1QYXJ0cykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IG1pbnMgPSB0aGlzLnBhcnNlQ29vcmQoZGF0YSwgMCk7XG4gIGNvbnN0IG1heHMgPSB0aGlzLnBhcnNlQ29vcmQoZGF0YSwgMTYpO1xuICBvdXQuYmJveCA9IFtcbiAgICBtaW5zWzBdLFxuICAgIG1pbnNbMV0sXG4gICAgbWF4c1swXSxcbiAgICBtYXhzWzFdXG4gIF07XG4gIGNvbnN0IG51bSA9IGRhdGEuZ2V0SW50MzIoMzYsIHRydWUpO1xuICBsZXQgb2Zmc2V0LCBwYXJ0T2Zmc2V0O1xuICBpZiAobnVtUGFydHMgPT09IDEpIHtcbiAgICBvdXQudHlwZSA9ICdMaW5lU3RyaW5nJztcbiAgICBvZmZzZXQgPSA0NDtcbiAgICBvdXQuY29vcmRpbmF0ZXMgPSB0aGlzLnBhcnNlUG9pbnRBcnJheShkYXRhLCBvZmZzZXQsIG51bSk7XG4gIH0gZWxzZSB7XG4gICAgb3V0LnR5cGUgPSAnTXVsdGlMaW5lU3RyaW5nJztcbiAgICBvZmZzZXQgPSA0MCArIChudW1QYXJ0cyA8PCAyKTtcbiAgICBwYXJ0T2Zmc2V0ID0gNDA7XG4gICAgb3V0LmNvb3JkaW5hdGVzID0gdGhpcy5wYXJzZUFycmF5R3JvdXAoZGF0YSwgb2Zmc2V0LCBwYXJ0T2Zmc2V0LCBudW1QYXJ0cywgbnVtKTtcbiAgfVxuICByZXR1cm4gb3V0O1xufTtcblBhcnNlU2hwLnByb3RvdHlwZS5wYXJzZVpQb2x5bGluZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIGNvbnN0IGdlb0pzb24gPSB0aGlzLnBhcnNlUG9seWxpbmUoZGF0YSk7XG4gIGlmICghZ2VvSnNvbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IG51bSA9IGdlb0pzb24uY29vcmRpbmF0ZXMubGVuZ3RoO1xuICBsZXQgek9mZnNldDtcbiAgaWYgKGdlb0pzb24udHlwZSA9PT0gJ0xpbmVTdHJpbmcnKSB7XG4gICAgek9mZnNldCA9IDYwICsgKG51bSA8PCA0KTtcbiAgICBnZW9Kc29uLmNvb3JkaW5hdGVzID0gdGhpcy5wYXJzZVpQb2ludEFycmF5KGRhdGEsIHpPZmZzZXQsIG51bSwgZ2VvSnNvbi5jb29yZGluYXRlcyk7XG4gICAgcmV0dXJuIGdlb0pzb247XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdG90YWxQb2ludHMgPSBnZW9Kc29uLmNvb3JkaW5hdGVzLnJlZHVjZShmdW5jdGlvbiAoYSwgdikge1xuICAgICAgcmV0dXJuIGEgKyB2Lmxlbmd0aDtcbiAgICB9LCAwKTtcbiAgICB6T2Zmc2V0ID0gNTYgKyAodG90YWxQb2ludHMgPDwgNCkgKyAobnVtIDw8IDIpO1xuICAgIGdlb0pzb24uY29vcmRpbmF0ZXMgPSB0aGlzLnBhcnNlWkFycmF5R3JvdXAoZGF0YSwgek9mZnNldCwgbnVtLCBnZW9Kc29uLmNvb3JkaW5hdGVzKTtcbiAgICByZXR1cm4gZ2VvSnNvbjtcbiAgfVxufTtcblBhcnNlU2hwLnByb3RvdHlwZS5wb2x5RnVuY3MgPSBmdW5jdGlvbiAob3V0KSB7XG4gIGlmICghb3V0KSB7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICBpZiAob3V0LnR5cGUgPT09ICdMaW5lU3RyaW5nJykge1xuICAgIG91dC50eXBlID0gJ1BvbHlnb24nO1xuICAgIG91dC5jb29yZGluYXRlcyA9IFtvdXQuY29vcmRpbmF0ZXNdO1xuICAgIHJldHVybiBvdXQ7XG4gIH0gZWxzZSB7XG4gICAgb3V0LmNvb3JkaW5hdGVzID0gaGFuZGxlUmluZ3Mob3V0LmNvb3JkaW5hdGVzKVxuICAgIGlmIChvdXQuY29vcmRpbmF0ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICBvdXQudHlwZSA9ICdQb2x5Z29uJztcbiAgICAgIG91dC5jb29yZGluYXRlcyA9IG91dC5jb29yZGluYXRlc1swXTtcbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dC50eXBlID0gJ011bHRpUG9seWdvbic7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgfVxufTtcblBhcnNlU2hwLnByb3RvdHlwZS5wYXJzZVBvbHlnb24gPSBmdW5jdGlvbiAoZGF0YSkge1xuICByZXR1cm4gdGhpcy5wb2x5RnVuY3ModGhpcy5wYXJzZVBvbHlsaW5lKGRhdGEpKTtcbn07XG5QYXJzZVNocC5wcm90b3R5cGUucGFyc2VaUG9seWdvbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHJldHVybiB0aGlzLnBvbHlGdW5jcyh0aGlzLnBhcnNlWlBvbHlsaW5lKGRhdGEpKTtcbn07XG5jb25zdCBzaHBGdW5jT2JqID0ge1xuICAxOiAncGFyc2VQb2ludCcsXG4gIDM6ICdwYXJzZVBvbHlsaW5lJyxcbiAgNTogJ3BhcnNlUG9seWdvbicsXG4gIDg6ICdwYXJzZU11bHRpUG9pbnQnLFxuICAxMTogJ3BhcnNlWlBvaW50JyxcbiAgMTM6ICdwYXJzZVpQb2x5bGluZScsXG4gIDE1OiAncGFyc2VaUG9seWdvbicsXG4gIDE4OiAncGFyc2VaTXVsdGlQb2ludCdcbn07XG5cbmZ1bmN0aW9uIG1ha2VQYXJzZUNvb3JkKHRyYW5zKSB7XG4gIGlmICh0cmFucykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZGF0YSwgb2Zmc2V0KSB7XG4gICAgICBjb25zdCBhcmdzID0gW2RhdGEuZ2V0RmxvYXQ2NChvZmZzZXQsIHRydWUpLCBkYXRhLmdldEZsb2F0NjQob2Zmc2V0ICsgOCwgdHJ1ZSldO1xuICAgICAgcmV0dXJuIHRyYW5zLmludmVyc2UoYXJncyk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGEsIG9mZnNldCkge1xuICAgICAgcmV0dXJuIFtkYXRhLmdldEZsb2F0NjQob2Zmc2V0LCB0cnVlKSwgZGF0YS5nZXRGbG9hdDY0KG9mZnNldCArIDgsIHRydWUpXTtcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQYXJzZVNocChidWZmZXIsIHRyYW5zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQYXJzZVNocCkpIHtcbiAgICByZXR1cm4gbmV3IFBhcnNlU2hwKGJ1ZmZlciwgdHJhbnMpO1xuICB9XG4gIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICB0aGlzLmhlYWRlcnMgPSB0aGlzLnBhcnNlSGVhZGVyKCk7XG4gIHRoaXMuc2hwRnVuY3ModHJhbnMpO1xuICB0aGlzLnJvd3MgPSB0aGlzLmdldFJvd3MoKTtcbn1cblBhcnNlU2hwLnByb3RvdHlwZS5zaHBGdW5jcyA9IGZ1bmN0aW9uICh0cmFuKSB7XG4gIGxldCBudW0gPSB0aGlzLmhlYWRlcnMuc2hwQ29kZTtcbiAgaWYgKG51bSA+IDIwKSB7XG4gICAgbnVtIC09IDIwO1xuICB9XG4gIGlmICghKG51bSBpbiBzaHBGdW5jT2JqKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgSSBkb24ndCBrbm93IHNocCB0eXBlIFwiJHtudW19XCJgKTtcbiAgfVxuICB0aGlzLnBhcnNlRnVuYyA9IHRoaXNbc2hwRnVuY09ialtudW1dXTtcbiAgdGhpcy5wYXJzZUNvb3JkID0gbWFrZVBhcnNlQ29vcmQodHJhbik7XG59O1xuUGFyc2VTaHAucHJvdG90eXBlLmdldFNocENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnBhcnNlSGVhZGVyKCkuc2hwQ29kZTtcbn07XG5QYXJzZVNocC5wcm90b3R5cGUucGFyc2VIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHZpZXcgPSB0aGlzLmJ1ZmZlcjtcbiAgcmV0dXJuIHtcbiAgICBsZW5ndGg6IHZpZXcuZ2V0SW50MzIoNiA8PCAyKSA8PCAxLFxuICAgIHZlcnNpb246IHZpZXcuZ2V0SW50MzIoNyA8PCAyLCB0cnVlKSxcbiAgICBzaHBDb2RlOiB2aWV3LmdldEludDMyKDggPDwgMiwgdHJ1ZSksXG4gICAgYmJveDogW1xuICAgICAgdmlldy5nZXRGbG9hdDY0KDkgPDwgMiwgdHJ1ZSksXG4gICAgICB2aWV3LmdldEZsb2F0NjQoMTEgPDwgMiwgdHJ1ZSksXG4gICAgICB2aWV3LmdldEZsb2F0NjQoMTMgPDwgMiwgdHJ1ZSksXG4gICAgICB2aWV3LmdldEZsb2F0NjQoMTUgPDwgMiwgdHJ1ZSlcbiAgICBdXG4gIH07XG59O1xuUGFyc2VTaHAucHJvdG90eXBlLmdldFJvd3MgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBvZmZzZXQgPSAxMDA7XG4gIGNvbnN0IGxlbiA9IHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGggLSA4O1xuICBjb25zdCBvdXQgPSBbXTtcbiAgbGV0IGN1cnJlbnQ7XG4gIHdoaWxlIChvZmZzZXQgPD0gbGVuKSB7XG4gICAgY3VycmVudCA9IHRoaXMuZ2V0Um93KG9mZnNldCk7XG4gICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgb2Zmc2V0ICs9IDg7XG4gICAgb2Zmc2V0ICs9IGN1cnJlbnQubGVuO1xuICAgIGlmIChjdXJyZW50LnR5cGUpIHtcbiAgICAgIG91dC5wdXNoKHRoaXMucGFyc2VGdW5jKGN1cnJlbnQuZGF0YSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQucHVzaChudWxsKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG5QYXJzZVNocC5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKG9mZnNldCkge1xuICBjb25zdCBpZCA9IHRoaXMuYnVmZmVyLmdldEludDMyKG9mZnNldCk7XG4gIGNvbnN0IGxlbiA9IHRoaXMuYnVmZmVyLmdldEludDMyKG9mZnNldCArIDQpIDw8IDE7XG4gIGlmIChsZW4gPT09IDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGlkLFxuICAgICAgbGVuOiBsZW4sXG4gICAgICB0eXBlOiAwXG4gICAgfTtcbiAgfVxuXG4gIGlmIChvZmZzZXQgKyBsZW4gKyA4ID4gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlkOiBpZCxcbiAgICBsZW46IGxlbixcbiAgICBkYXRhOiBuZXcgRGF0YVZpZXcodGhpcy5idWZmZXIuYnVmZmVyLCB0aGlzLmJ1ZmZlci5ieXRlT2Zmc2V0ICsgb2Zmc2V0ICsgMTIsIGxlbiAtIDQpLFxuICAgIHR5cGU6IHRoaXMuYnVmZmVyLmdldEludDMyKG9mZnNldCArIDgsIHRydWUpXG4gIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGJ1ZmZlciwgdHJhbnMpIHtcbiAgcmV0dXJuIG5ldyBQYXJzZVNocChidWZmZXIsIHRyYW5zKS5yb3dzO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/shpjs/lib/parseShp.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/shpjs/lib/unzip.js":
/*!*****************************************!*\
  !*** ./node_modules/shpjs/lib/unzip.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var but_unzip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! but-unzip */ \"(ssr)/./node_modules/but-unzip/index.node.min.mjs\");\n\n\nconst regex = /.+\\.(shp|dbf|json|prj|cpg)$/i;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (buffer) => {\n  const files = {};\n  const proms = [];\n  for (const entry of (0,but_unzip__WEBPACK_IMPORTED_MODULE_0__.iter)(buffer)) {\n    if (!regex.test(entry.filename)) {\n      continue;\n    }\n    proms.push(Promise.resolve(entry.read()).then(bytes => files[entry.filename] = bytes));\n  }\n  await Promise.all(proms);\n  const out = {};\n  const decoder = new TextDecoder();\n  for (const [key, value] of Object.entries(files)) {\n    if (key.slice(-3).toLowerCase() === 'shp' || key.slice(-3).toLowerCase() === 'dbf') {\n      out[key] = new DataView(value.buffer, value.byteOffset, value.byteLength)\n    } else {\n      out[key] = decoder.decode(value);\n    }\n  }\n  return out;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2hwanMvbGliL3VuemlwLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWlDOztBQUVqQztBQUNBLGlFQUFlO0FBQ2Y7QUFDQTtBQUNBLHNCQUFzQiwrQ0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2aW5nLXJpdmVyLWVjb2xvZ2ljYWwtdHdpbi8uL25vZGVfbW9kdWxlcy9zaHBqcy9saWIvdW56aXAuanM/Zjc0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpdGVyIH0gZnJvbSAnYnV0LXVuemlwJztcblxuY29uc3QgcmVnZXggPSAvLitcXC4oc2hwfGRiZnxqc29ufHByanxjcGcpJC9pO1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKGJ1ZmZlcikgPT4ge1xuICBjb25zdCBmaWxlcyA9IHt9O1xuICBjb25zdCBwcm9tcyA9IFtdO1xuICBmb3IgKGNvbnN0IGVudHJ5IG9mIGl0ZXIoYnVmZmVyKSkge1xuICAgIGlmICghcmVnZXgudGVzdChlbnRyeS5maWxlbmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBwcm9tcy5wdXNoKFByb21pc2UucmVzb2x2ZShlbnRyeS5yZWFkKCkpLnRoZW4oYnl0ZXMgPT4gZmlsZXNbZW50cnkuZmlsZW5hbWVdID0gYnl0ZXMpKTtcbiAgfVxuICBhd2FpdCBQcm9taXNlLmFsbChwcm9tcyk7XG4gIGNvbnN0IG91dCA9IHt9O1xuICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGZpbGVzKSkge1xuICAgIGlmIChrZXkuc2xpY2UoLTMpLnRvTG93ZXJDYXNlKCkgPT09ICdzaHAnIHx8IGtleS5zbGljZSgtMykudG9Mb3dlckNhc2UoKSA9PT0gJ2RiZicpIHtcbiAgICAgIG91dFtrZXldID0gbmV3IERhdGFWaWV3KHZhbHVlLmJ1ZmZlciwgdmFsdWUuYnl0ZU9mZnNldCwgdmFsdWUuYnl0ZUxlbmd0aClcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0W2tleV0gPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/shpjs/lib/unzip.js\n");

/***/ })

};
;